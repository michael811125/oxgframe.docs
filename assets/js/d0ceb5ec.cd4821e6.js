"use strict";(self.webpackChunkoxgframe_doc=self.webpackChunkoxgframe_doc||[]).push([[4912],{409:(e,s,n)=>{n.r(s),n.d(s,{Highlight:()=>t,assets:()=>d,contentTitle:()=>r,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"assetloader/load-type","title":"\u52a0\u8f09\u65b9\u5f0f","description":"\u91cd\u8981 \u6ce8\u610f \u63d0\u9192","source":"@site/docs/assetloader/load-type.mdx","sourceDirName":"assetloader","slug":"/assetloader/load-type","permalink":"/docs/assetloader/load-type","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/assetloader/load-type.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"\u6a21\u584a\u4ecb\u7d39","permalink":"/docs/assetloader/intro"},"next":{"title":"\u5168\u5c40\u914d\u7f6e","permalink":"/docs/assetloader/settings"}}');var a=n(4848),c=n(8453);const l={sidebar_position:2},r="\u52a0\u8f09\u65b9\u5f0f",d={},t=({children:e,color:s})=>{const n={span:"span",...(0,c.R)()};return(0,a.jsx)(n.span,{style:{backgroundColor:s,borderRadius:"5px",color:"#fff",padding:"2.5px"},children:e})},o=[{value:"Coding Style wiki",id:"coding-style-wiki",level:3},{value:"\u901a\u904e Resources \u52a0\u8f09",id:"\u901a\u904e-resources-\u52a0\u8f09",level:2},{value:"\u901a\u904e AssetBundle \u52a0\u8f09",id:"\u901a\u904e-assetbundle-\u52a0\u8f09",level:2},{value:"\u6b65\u9a5f 1.",id:"\u6b65\u9a5f-1",level:3},{value:"\u6b65\u9a5f 2.",id:"\u6b65\u9a5f-2",level:3},{value:"\u6b65\u9a5f 3.",id:"\u6b65\u9a5f-3",level:3},{value:"\u6b65\u9a5f 4.",id:"\u6b65\u9a5f-4",level:3}];function h(e){const s={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"\u52a0\u8f09\u65b9\u5f0f",children:"\u52a0\u8f09\u65b9\u5f0f"})}),"\n","\n",(0,a.jsx)(t,{color:"#ff2f00",children:"\u91cd\u8981"}),"\n",(0,a.jsx)(t,{color:"#0373fc",children:"\u6ce8\u610f"}),"\n",(0,a.jsx)(t,{color:"#00d679",children:"\u63d0\u9192"}),"\n",(0,a.jsx)(s.h3,{id:"coding-style-wiki",children:(0,a.jsx)(s.a,{href:"https://github.com/michael811125/OxGFrame/wiki/Coding-Style",children:"Coding Style wiki"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"\u901a\u904e-resources-\u52a0\u8f09",children:"\u901a\u904e Resources \u52a0\u8f09"}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(t,{color:"#00d679",children:"\u63d0\u9192"})," \u4f7f\u7528 Resources \u52a0\u8f09\u6642\uff0c\u4e0d\u9700\u8981\u9032\u884c\u984d\u5916\u914d\u7f6e\uff0c\u50c5\u5c07\u8cc7\u6e90\u653e\u5728 Resources \u4e0b\uff0c\u4e26\u4e14\u76f4\u63a5\u4f7f\u7528 ",(0,a.jsx)(s.strong,{children:"res#"})," \u4f5c\u70ba\u524d\u589c + \u8cc7\u6e90\u8def\u5f91\u9032\u884c\u52a0\u8f09\u3002"]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:n(5602).A+"",width:"656",height:"237"})}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(t,{color:"#ff2f00",children:"\u91cd\u8981"})," \u4f7f\u7528 ",(0,a.jsx)(s.strong,{children:"res#"})," \u4f5c\u70ba\u524d\u589c\u6642\uff0c\u5c07\u6703\u5207\u63db\u6210 Resources \u52a0\u8f09\u65b9\u5f0f\u3002"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-csharp",children:'// res# prefix\nAssetLoaders.LoadAssetAsync<GameObject>("res#MyPrefabs/Cube");\n'})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"\u901a\u904e-assetbundle-\u52a0\u8f09",children:"\u901a\u904e AssetBundle \u52a0\u8f09"}),"\n",(0,a.jsx)(s.h3,{id:"\u6b65\u9a5f-1",children:"\u6b65\u9a5f 1."}),"\n",(0,a.jsx)(s.p,{children:"\u5fc5\u9808\u5148\u901a\u904e YooAsset Collector \u914d\u7f6e\u3002"}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(t,{color:"#0373fc",children:"\u6ce8\u610f"})," \u5c0b\u5740\u540d\u7a31\u9700\u8981\u6ce8\u610f\uff0c\u5716\u4e2d\u7684 DefaultPackage \u5305\u542b\u5c0b\u5740\u540d\u7a31\u7684\u6709 Cube\u3002"]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:n(5563).A+"",width:"1278",height:"616"})}),"\n",(0,a.jsx)(s.h3,{id:"\u6b65\u9a5f-2",children:"\u6b65\u9a5f 2."}),"\n",(0,a.jsxs)(s.p,{children:["\u53e6\u5916\u4f7f\u7528 AssestBundle \u9032\u884c\u958b\u767c\u6642\uff0c\u4e5f\u9700\u8981 ",(0,a.jsx)(s.strong,{children:"PatchLauncher"})," \u9032\u884c Runtime \u914d\u7f6e\uff0c\u4e3b\u8981\u662f\u4f7f\u7528 AssetBundle \u52a0\u8f09\u6642\uff0c\u9700\u8981\u521d\u59cb\u76f8\u95dc\u914d\u7f6e\u3002"]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:n(6779).A+"",width:"1927",height:"662"})}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(t,{color:"#0373fc",children:"\u6ce8\u610f"})," \u532f\u5165\u5f8c\u62d6\u66f3\u5230 Hierarchy \u7a97\u9ad4\u3002"]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:n(9220).A+"",width:"600",height:"302"})}),"\n",(0,a.jsx)(s.h3,{id:"\u6b65\u9a5f-3",children:"\u6b65\u9a5f 3."}),"\n",(0,a.jsx)(s.p,{children:"\u914d\u7f6e\u9810\u8a2d Packages\uff0c\u5c07\u6703\u5728 Runtime \u6642\u9032\u884c\u521d\u59cb\u3002"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"\u9810\u8a2d App Packages\u3002"}),"\n",(0,a.jsx)(s.li,{children:"\u9810\u8a2d DLC Packages\u3002"}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:n(4677).A+"",width:"515",height:"732"})}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(t,{color:"#ff2f00",children:"\u91cd\u8981"})," \u9810\u8a2d Packages \u5c07\u7531",(0,a.jsx)(s.strong,{children:"\u4e3b\u4e0b\u8f09\u5668"}),"\u9032\u884c\u7ba1\u7406\u8207\u6aa2\u67e5\uff0c\u6240\u4ee5\u4e0d\u5305\u542b\u5728\u9810\u8a2d\u4e2d\u7684 Packages\uff0c\u5fc5\u9808\u81ea\u884c\u901a\u904e API \u521d\u59cb\uff0c\u8aaa\u660e\u5982\u4e0b\u3002"]}),"\n",(0,a.jsx)(s.p,{children:"App Package"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-csharp",children:'// [Load asset and download from specific package (Export App Bundles for CDN)]\n\nAppPackageInfoWithBuild packageInfo = new AppPackageInfoWithBuild()\n{\n    buildMode = BundleConfig.BuildMode.ScriptableBuildPipeline,\n    packageName = "OtherPackage"\n};\n\nbool isInitialized = await AssetPatcher.InitAppPackage(packageInfo, true);\nif (isInitialized)\n    await AssetLoaders.LoadAssetAsync<GameObject>("packageName", "assetName");\n'})}),"\n",(0,a.jsx)(s.p,{children:"DLC Package"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-csharp",children:'// [Load asset and download from specific package (Export Individual DLC Bundles for CDN)]\n\nDlcPackageInfoWithBuild packageInfo = new DlcPackageInfoWithBuild()\n{\n    buildMode = BundleConfig.BuildMode.ScriptableBuildPipeline,\n    packageName = "DlcPackage",\n    dlcVersion = "dlcVersion",\n    withoutPlatform = false\n};\n\nbool isInitialized = await AssetPatcher.InitDlcPackage(packageInfo, true);\nif (isInitialized)\n    await AssetLoaders.LoadAssetAsync<GameObject>("packageName", "assetName");\n'})}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(t,{color:"#0373fc",children:"\u6ce8\u610f"})," \u5340\u5206 App Packages \u8ddf DLC Packages\uff0c\u6ce8\u610f\u8def\u5f91\u4e0d\u540c\u3002"]}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["App Packages","\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"\u8def\u5f91\u96a8\u8457\u4e3b\u7a0b\u5f0f\u7248\u865f (.../CDN/<ProductName>/<Platform>/<AppVersion>/<PackageName>)\u3002"}),"\n",(0,a.jsx)(s.li,{children:"\u624b\u52d5\u9032\u884c AssetPatcher.InitAppPackage \u7684\u521d\u59cb (\u5982\u679c autoUpdate = false\uff0c\u5247\u9700\u8981\u81ea\u884c\u53e6\u5916\u8abf\u7528 AssetPatcher.UpdatePackage \u9032\u884c Manifest \u7684\u66f4\u65b0)\u3002"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["DLC Packages","\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"\u8def\u5f91\u5305\u542b\u5e73\u53f0 (.../CDN/<ProductName>/<Platform>/DLC/<PackageName>/<DlcVersion>)\u3002"}),"\n",(0,a.jsxs)(s.li,{children:["\u8def\u5f91\u4e0d\u542b\u5e73\u53f0 (.../CDN/<ProductName>/DLC/<PackageName>/<DlcVersion>)\uff0c",(0,a.jsx)(s.strong,{children:"\u5c6c\u65bc\u6240\u6709\u5e73\u53f0\u7684\u5171\u7528\u8cc7\u6e90"}),"\u3002"]}),"\n",(0,a.jsx)(s.li,{children:'\u652f\u6301\u7279\u5b9a\u7248\u672c DLC package \u7684\u4e0b\u8f09\u8207 DLC package \u5378\u8f09\u529f\u80fd\uff0c\u9700\u624b\u52d5\u9032\u884c AssetPatcher.InitDlcPackage\uff0c\u4e26\u4e14\u6307\u5b9a\u7279\u5b9a dlcVersion\uff0c\u5c0d\u65bc dlcVersion \u4e5f\u53ef\u4ee5\u55ae\u4e00\u56fa\u5b9a dlcVersion (ex: "latest")\uff0c\u8b8a\u6210\u53ea\u8981 DLC \u6709\u66f4\u65b0\u5c31\u53ef\u4ee5\u4f7f\u7528\u56fa\u5b9a\u8def\u5f91\u9032\u884c\u66f4\u65b0\u3002'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(t,{color:"#0373fc",children:"\u6ce8\u610f"})," \u53e6\u5916\uff0cPlay Mode \u7684\u8aaa\u660e\u5982\u4e0b\u3002"]}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Editor Simulate Mode (\u958b\u767c\u6a21\u5f0f)\u3002"}),"\n",(0,a.jsx)(s.li,{children:"Offline Mode (\u55ae\u6a5f\u6a21\u5f0f)\u3002"}),"\n",(0,a.jsx)(s.li,{children:"Host Mode (\u806f\u6a5f\u6a21\u5f0f)\u3002"}),"\n",(0,a.jsx)(s.li,{children:"Weak Host Mode (\u5f31\u806f\u6a5f\u6a21\u5f0f)\u3002"}),"\n",(0,a.jsx)(s.li,{children:"WebGL Mode (WebGL \u6a21\u5f0f)\u3002"}),"\n",(0,a.jsx)(s.li,{children:"WebGL Remote Mode (WebGL \u806f\u6a5f\u6a21\u5f0f)\u3002"}),"\n"]}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(t,{color:"#ff2f00",children:"\u91cd\u8981"})," ",(0,a.jsx)(s.a,{href:"https://github.com/michael811125/OxGFrame/wiki/Macro-Definitions",children:"\u6253\u5305\u53ef\u7528\u7684\u5b8f\u5b9a\u7fa9"})]}),"\n",(0,a.jsx)(s.h3,{id:"\u6b65\u9a5f-4",children:"\u6b65\u9a5f 4."}),"\n",(0,a.jsx)(s.p,{children:"\u524d\u7f6e\u4f5c\u696d\u5b8c\u6210\u5f8c\uff0c\u4e26\u4e14\u78ba\u4fdd\u4e3b\u914d\u7f6e\u6d41\u7a0b\u5df2\u521d\u59cb -> AssetPatcher.IsInitialized()\uff0c\u5c31\u53ef\u4ee5\u958b\u59cb\u52a0\u8f09\u4e86\uff0c\u5982\u4ee5\u4e0b\u3002"}),"\n",(0,a.jsx)(s.p,{children:"\u5f9e DefaultPackage \u4e2d\u52a0\u8f09\u5c0b\u5740\u540d\u7a31\u70ba Cube \u7684\u7269\u4ef6\u3002"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-csharp",children:'AssetLoaders.LoadAssetAsync<GameObject>("DefaultPackage", "Cube");\n'})}),"\n",(0,a.jsxs)(s.blockquote,{children:["\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(t,{color:"#0373fc",children:"\u6ce8\u610f"})," \u984d\u5916\u88dc\u5145\uff0c\u6d41\u7a0b\u5148\u5f8c\u9806\u5e8f\uff0c\u8aaa\u660e\u5982\u4e0b\u3002"]}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["\u8f2a\u8a62\u521d\u59cb\u72c0\u614b AssetPatcher.IsInitialized() == true -> \u5373\u53ef",(0,a.jsx)(t,{color:"#ff2f00",children:"\u52a0\u8f09\u5167\u7f6e\u8cc7\u6e90"}),"\u8207",(0,a.jsx)(t,{color:"#ff2f00",children:"\u57f7\u884c\u6aa2\u67e5\u66f4\u65b0"}),"\u3002"]}),"\n",(0,a.jsxs)(s.li,{children:["\u57f7\u884c\u6aa2\u67e5\u66f4\u65b0 AssetPatcher.Check() -> \u8f2a\u8a62\u5b8c\u6210\u72c0\u614b AssetPatcher.IsDone() == true -> \u5b8c\u6210\u66f4\u65b0\u5f8c -> \u5373\u53ef",(0,a.jsx)(t,{color:"#ff2f00",children:"\u52a0\u8f09\u66f4\u65b0\u8cc7\u6e90"}),"\u3002"]}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},4677:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/img_8-72edc2fe53803a32a0b2d10f33a1a9a3.png"},5563:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/img_24-c9ceafa50fabbf951d8102dc36ed318a.png"},5602:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/img_7-f0c50ee2cbcb2e0e6de0b91b2163fddf.png"},6779:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/img_6-1733f218f946ffe9b4a1586537fa28d2.png"},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>r});var i=n(6540);const a={},c=i.createContext(a);function l(e){const s=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),i.createElement(c.Provider,{value:s},e.children)}},9220:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/gif_1-7b9f793bbbb0ff00f815cb8e835447a2.gif"}}]);